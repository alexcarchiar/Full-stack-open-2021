(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{20:function(e,n,t){},21:function(e,n,t){},42:function(e,n,t){"use strict";t.r(n);var c=t(1),o=t.n(c),r=t(15),a=t.n(r),u=(t(20),t(3)),i=(t.p,t(21),t(0)),s=function(e){return Object(i.jsxs)("div",{children:["Filter shown with: ",Object(i.jsx)("input",{value:e.newFilter,onChange:e.handleFilterChange})]})},l=function(e){return Object(i.jsx)("div",{children:Object(i.jsxs)("form",{onSubmit:e.addPerson,children:[Object(i.jsxs)("div",{children:["name: ",Object(i.jsx)("input",{value:e.newName,onChange:e.handleNameChange}),Object(i.jsx)("br",{}),"number: ",Object(i.jsx)("input",{value:e.newNumber,onChange:e.handleNumberChange})]}),Object(i.jsx)("div",{children:Object(i.jsx)("button",{type:"submit",children:"add"})})]})})},d=t(4),b=t.n(d),j="https://boiling-gorge-85718.herokuapp.com/api/phonebook",h=function(){return b.a.get(j).then((function(e){return e.data}))},f=function(e){return b.a.post("https://boiling-gorge-85718.herokuapp.com/api/persons",e).then((function(e){return e.data}))},m=function(e,n){return b.a.put("".concat(j,"/").concat(e),n).then((function(e){return e.data}))},O=function(e){return b.a.delete("".concat(j,"/").concat(e)).then((function(e){return e.data}))},g=function(e){return Object(i.jsx)("button",{onClick:function(){return e.deletePerson(e.id,e.name)},children:"delete"})},p=function(e){return Object(i.jsxs)("li",{children:[e.name," ",e.number," ",Object(i.jsx)(g,{name:e.name,id:e.id,deletePerson:e.deletePerson})]},e.name)},v=function(e){return Object(i.jsx)("div",{id:"numbers",children:Object(i.jsx)("ul",{children:e.persons.filter((function(n){return n.name.toLowerCase().match(e.newFilter.toLowerCase())})).map((function(n){return Object(i.jsx)(p,{name:n.name,number:n.number,id:n.id,deletePerson:e.deletePerson})}))})})},x=function(e){var n=e.message,t=e.className;return null===n?null:Object(i.jsx)("div",{className:t,children:n})},w=function(){var e=Object(c.useState)([]),n=Object(u.a)(e,2),t=n[0],o=n[1];Object(c.useEffect)((function(){h().then((function(e){o(e)}))}),[]);var r=Object(c.useState)(""),a=Object(u.a)(r,2),d=a[0],b=a[1],j=Object(c.useState)(""),g=Object(u.a)(j,2),p=g[0],w=g[1],C=Object(c.useState)(""),N=Object(u.a)(C,2),k=N[0],F=N[1],P=Object(c.useState)(null),S=Object(u.a)(P,2),T=S[0],y=S[1],L=Object(c.useState)("success"),A=Object(u.a)(L,2),B=A[0],D=A[1];return Object(i.jsxs)("div",{children:[Object(i.jsx)("h2",{children:"Phonebook"}),Object(i.jsx)(x,{message:T,className:B}),Object(i.jsx)(s,{newFilter:k,handleFilterChange:function(e){console.log(e.target.value),F(e.target.value)}}),Object(i.jsx)("h2",{children:"Add a new person"}),Object(i.jsx)(l,{addPerson:function(e){e.preventDefault(),console.log("button clicked",e.target);var n={name:d,number:p};if(0===t.filter((function(e){return e.name===n.name})).length)f(n).then((function(e){o(t.concat(e)),b(""),w(""),y("Added '".concat(n.name,"'")),setTimeout((function(){y(null)}),5e3)}));else if(window.confirm(d+" is already added, replace the old number with a new one?")){var c=t.filter((function(e){return e.name===n.name}))[0];m(c.id,n).then((function(){var e=t.filter((function(e){return e!==c}));e=e.concat(n),o(e),D("success"),y("Updated '".concat(n.name,"'")),setTimeout((function(){y(null)}),5e3)})).catch((function(e){D("error"),y("Couldn't update '".concat(n.name,"'")),setTimeout((function(){y(null)}),5e3)}))}b(""),w("")},newName:d,handleNameChange:function(e){console.log(e.target.value),b(e.target.value)},newNumber:p,handleNumberChange:function(e){console.log(e.target.value),w(e.target.value)}}),Object(i.jsx)("h2",{children:"Numbers"}),Object(i.jsx)(v,{persons:t,newFilter:k,deletePerson:function(e,n){window.confirm("Would you like to delete "+n+"?")&&O(e).then((function(){var c=t.filter((function(n){return n.id!==e}));o(c),D("success"),y("Removed '".concat(n,"'")),setTimeout((function(){y(null)}),5e3)}))}})]})},C=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,43)).then((function(n){var t=n.getCLS,c=n.getFID,o=n.getFCP,r=n.getLCP,a=n.getTTFB;t(e),c(e),o(e),r(e),a(e)}))};a.a.render(Object(i.jsx)(o.a.StrictMode,{children:Object(i.jsx)(w,{})}),document.getElementById("root")),C()}},[[42,1,2]]]);
//# sourceMappingURL=main.5e0b4d6a.chunk.js.map