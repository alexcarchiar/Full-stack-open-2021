{"version":3,"sources":["logo.svg","components/Filter.js","components/Form.js","services/phonebookService.js","components/Button.js","components/Person.js","components/Persons.js","components/ErrorMessage.js","App.js","reportWebVitals.js","index.js"],"names":["Filter","props","value","newFilter","onChange","handleFilterChange","Form","onSubmit","addPerson","newName","handleNameChange","newNumber","handleNumberChange","type","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","Button","onClick","deletePerson","name","Person","number","Persons","persons","filter","p","toLowerCase","match","map","ErrorMessage","message","className","App","useState","setPersons","useEffect","phonebookService","setNewName","setNewNumber","setFilter","errorMessage","setErrorMessage","errorClass","setErrorClass","event","console","log","target","preventDefault","person","length","concat","setTimeout","window","confirm","oldPerson","newPeople","catch","error","newPersons","item","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5e0b4d6a.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import React from 'react'\n\nconst Filter = (props) => {\n    return(\n        <div>\n            Filter shown with: <input value={props.newFilter} onChange={props.handleFilterChange}/>\n        </div>\n    )\n}\n\nexport default Filter","import React from 'react'\n\nconst Form = (props) => {\n    return(\n        <div>\n            <form onSubmit={props.addPerson}>\n        <div>\n          name: <input value={props.newName} onChange={props.handleNameChange}/>\n          <br/>\n          number: <input value={props.newNumber} onChange={props.handleNumberChange} />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n        </div>\n    )\n}\n\nexport default Form","import axios from 'axios'\n//const baseUrl = 'http://localhost:3001/api/phonebook'\n//const personsUrl = 'http://localhost:3001/api/persons'\nconst baseUrl = 'https://boiling-gorge-85718.herokuapp.com/api/phonebook'\nconst personsUrl = 'https://boiling-gorge-85718.herokuapp.com/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n  }\n  \n  const create = newObject => {\n    const request = axios.post(personsUrl, newObject)\n    return request.then(response => response.data)\n  }\n  \n  const update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n  }\n\n  const deleting = (id) => {\n      const request = axios.delete(`${baseUrl}/${id}`)\n      return request.then(response => response.data)\n  }\n\nexport default { \n    getAll: getAll, \n    create: create, \n    update: update,\n    deleting: deleting\n  }","import React from 'react'\nimport phonebookService from '../services/phonebookService'\n\nconst Button = (props) =>{\n\n    return(\n        <button onClick={() => props.deletePerson(props.id, props.name)}>delete</button>\n    )\n}\n\nexport default Button","import React from 'react'\nimport Button from './Button'\n\nconst Person = (props) => {\n    return(\n        <li key={props.name}>{props.name} {props.number} <Button name={props.name} id={props.id} deletePerson={props.deletePerson}/></li>\n    )\n}\n\nexport default Person","import React from 'react'\nimport Person from './Person'\n\nconst Persons = (props) => {\n    return(\n        <div id='numbers'>\n          <ul>\n            {props.persons.filter(p => p.name.toLowerCase().match(props.newFilter.toLowerCase())).map( p => \n              //<li key={p.name}>{p.name} {p.number}</li>)}\n              <Person name={p.name} number={p.number} id={p.id} deletePerson={props.deletePerson}/>)}\n          </ul>\n        </div>\n    )\n}\n\nexport default Persons","import React from 'react'\n\nconst ErrorMessage = (props) => {\n    const message = props.message\n    const className = props.className\n    if (message === null) {\n      return null\n    }\n  \n    return (\n      <div className={className}>\n        {message}\n      </div>\n    )\n  }\n\nexport default ErrorMessage","import logo from './logo.svg';\nimport './App.css';\nimport React, {useState, useEffect} from 'react'\nimport Filter from './components/Filter'\nimport Form from './components/Form'\nimport Persons from './components/Persons'\nimport axios from 'axios'\nimport phonebookService from './services/phonebookService';\nimport ErrorMessage from './components/ErrorMessage';\n\nconst App = () =>  {\n  /*const [ persons, setPersons ] = useState([\n    { name: 'Arto Hellas',\n      number: '040-1234567'\n   },\n   { name: 'Ada Lovelace',\n    number: '39-44-5323523'\n  },\n  { name: 'Dan Abramov', number: '12-43-234345' },\n  { name: 'Mary Poppendieck', number: '39-23-6423122'},\n  { name: 'Mario Rossi', number: '39-23-7445551'}\n  ]) */\n  const url = 'http://localhost:3001/persons'\n  const [persons, setPersons ] = useState([])\n\n  /*useEffect( () => {\n    axios\n    .get(url)\n    .then( r => {\n      setPersons(r.data)\n    })\n  }, [])*/\n  useEffect(() => {\n    phonebookService\n      .getAll()\n      .then(response => {\n        setPersons(response)\n      })\n  }, [])\n\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber] = useState('')\n  const [ newFilter, setFilter] = useState('')\n  const [errorMessage, setErrorMessage] = useState(null)\n  const [errorClass, setErrorClass] = useState('success')\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    console.log('button clicked', event.target)\n    const person = {\n      name: newName,\n      number: newNumber\n    }\n    if(persons.filter(p => p.name === person.name).length === 0){ //checking that the person is already included\n      //apparently, JS is like Java or Python: if you put objects in an array, you need to manually compare the fields\n      /*axios\n      .post(url, person).then(response => {\n        setPersons(persons.concat(response.data))\n        setNewName('')\n        setNewNumber('')\n      }).catch(console.log(\"Error while saving\"))*/\n      phonebookService\n      .create(person).then(response => {\n        setPersons(persons.concat(response))\n        setNewName('')\n        setNewNumber('')\n        setErrorMessage(\n          `Added '${person.name}'`\n        )\n        setTimeout(() => {\n          setErrorMessage(null)\n        }, 5000)\n      })\n      //setPersons(persons.concat(person))\n    } else {\n      if(window.confirm(newName + ' is already added, replace the old number with a new one?')){\n        const oldPerson = persons.filter(p => p.name === person.name)[0]\n        phonebookService.update(oldPerson.id,person).then( () => {\n          let newPeople = persons.filter(p => p !== oldPerson)\n          newPeople = newPeople.concat(person)\n          setPersons(newPeople)\n          setErrorClass('success')\n          setErrorMessage(\n            `Updated '${person.name}'`\n          )\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 5000)\n        }\n        ).catch(error => {\n          setErrorClass('error')\n          setErrorMessage(\n            `Couldn't update '${person.name}'`\n          )\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 5000)\n        })\n        \n      }\n    }\n    setNewName('')\n    setNewNumber('')\n  }\n\n  const handleNameChange = (event) => {\n    console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    console.log(event.target.value)\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    console.log(event.target.value)\n    setFilter(event.target.value)\n  }\n\n  const deletePerson = (id, name) => {\n    if(window.confirm('Would you like to delete ' + name + '?')){\n      phonebookService.deleting(id).then(() => {\n        const newPersons = persons.filter((item => item.id !== id))\n        setPersons(newPersons)\n        setErrorClass('success')\n        setErrorMessage(\n          `Removed '${name}'`\n        )\n        setTimeout(() => {\n          setErrorMessage(null)\n        }, 5000)\n      })\n    }\n  }\n\n  /*return (\n    <div>\n      <h2>Phonebook</h2>\n      filter shown with: <input value={newFilter} onChange={handleFilterChange}/>\n      <h2>Add a new</h2>\n      <form onSubmit={addPerson}>\n        <div>\n          name: <input value={newName} onChange={handleNameChange}/>\n          <br/>\n          number: <input value={newNumber} onChange={handleNumberChange} />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n      <h2>Numbers</h2>\n        <div id='numbers'>\n          <ul>\n            {persons.filter(p => p.name.toLowerCase().match(newFilter.toLowerCase())).map( p => \n              <li key={p.name}>{p.name} {p.number}</li>)}\n          </ul>\n        </div>\n    </div>\n  );*/\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <ErrorMessage message={errorMessage} className={errorClass}/>\n      <Filter newFilter={newFilter} handleFilterChange={handleFilterChange}/>\n      <h2>Add a new person</h2>\n      <Form addPerson={addPerson} newName={newName} handleNameChange={handleNameChange} newNumber={newNumber} handleNumberChange={handleNumberChange} />\n      <h2>Numbers</h2>\n      <Persons persons={persons} newFilter={newFilter} deletePerson={deletePerson}/>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}